@* @{ *@
@*     ViewBag.Title = "Payment Confirmation"; *@
@*     var key = ViewBag.Key; *@
@*     var orderId = ViewBag.orderId; *@
@*     var amount = ViewBag.Amount; *@
@*     var userId = ViewBag.UserId; *@
@* } *@

@* <h2>Confirm Payment</h2> *@

@* <button id="rzp-button1" class="btn btn-success">Pay Now</button> *@

@* <script src="https://checkout.razorpay.com/v1/checkout.js"></script> *@
@* <script> *@
@*     var options = { *@
@*         "key": "@key", *@
@*         "amount": "@(Convert.ToInt32(amount * 100))", *@
@*         "currency": "INR", *@
@*         "name": "Aesthetica", *@
@*         "description": "Rent Payment", *@
@*         "order_id": "@orderId", *@
@*         "handler": function (response) { *@
@*             // Send payment details to server *@
@*             fetch('/Payment/VerifyPayment', { *@
@*                 method: 'POST', *@
@*                 headers: { *@
@*                     'Content-Type': 'application/json' *@
@*                 }, *@
@*                 body: JSON.stringify({ *@
@*                     razorpayPaymentId: response.razorpay_payment_id, *@
@*                     orderId: "@orderId", *@
@*                     razorpaySignature: response.razorpay_signature *@
@*                 }) *@
@*             }) *@
@*             .then(response => { *@
@*                 if (response.redirected) { *@
@*                     window.location.href = response.url; *@
@*                 } else { *@
@*                     return response.text().then(text => alert(text)); *@
@*                 } *@
@*             }) *@
@*             .catch(error => alert("Payment Failed: " + error)); *@
@*         }, *@
@*         "theme": { *@
@*             "color": "#007BFF" *@
@*         } *@
@*     }; *@

@*     var rzp1 = new Razorpay(options); *@
@*     document.getElementById("rzp-button1").onclick = function (e) { *@
@*         rzp1.open(); *@
@*         e.preventDefault(); *@
@*     }; *@
 @* </script> *@
